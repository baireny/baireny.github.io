<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>baireny&#39;Home</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://localhost:4000/"/>
  <updated>2020-03-18T13:26:32.801Z</updated>
  <id>http://localhost:4000/</id>
  
  <author>
    <name>baireny</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>MySQL创建数据库与用户</title>
    <link href="http://localhost:4000/2020/03/18/MySQL%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8E%E7%94%A8%E6%88%B7/"/>
    <id>http://localhost:4000/2020/03/18/MySQL%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8E%E7%94%A8%E6%88%B7/</id>
    <published>2020-03-18T13:17:47.000Z</published>
    <updated>2020-03-18T13:26:32.801Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="MySQL-创建数据库与用户"><a href="#MySQL-创建数据库与用户" class="headerlink" title="MySQL 创建数据库与用户"></a>MySQL 创建数据库与用户</h1><h2 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h2><h3 id="查看数据库"><a href="#查看数据库" class="headerlink" title="查看数据库"></a>查看数据库</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show databases;</span><br></pre></td></tr></table></figure><p><img src="/" alt="image-20191213133054089" class="lazyload" data-src="image-20191213133054089.png"></p><h3 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 创建数据库：</span><br><span class="line">* create database 数据库名称;</span><br><span class="line">* 创建数据库，判断不存在，再创建：</span><br><span class="line">* create database if not exists 数据库名称;</span><br><span class="line">* 创建数据库，并指定字符集</span><br><span class="line">* create database 数据库名称 character set 字符集名;</span><br></pre></td></tr></table></figure><p><img src="/" alt="image-20191213133220010" class="lazyload" data-src="image-20191213133220010.png"></p><h3 id="查看字符集"><a href="#查看字符集" class="headerlink" title="查看字符集"></a>查看字符集</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show create database 数据库名称;</span><br></pre></td></tr></table></figure><p><img src="/" alt="image-20191213134757828" class="lazyload" data-src="image-20191213134757828.png"></p><h3 id="使用数据库"><a href="#使用数据库" class="headerlink" title="使用数据库"></a>使用数据库</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use 数据库名称;</span><br></pre></td></tr></table></figure><p><img src="/" alt="image-20191213133643809" class="lazyload" data-src="image-20191213133643809.png"></p><h3 id="删除数据库"><a href="#删除数据库" class="headerlink" title="删除数据库"></a>删除数据库</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop database 数据库名称;</span><br></pre></td></tr></table></figure><p><img src="/" alt="image-20191213133752788" class="lazyload" data-src="image-20191213133752788.png"></p><h2 id="用户"><a href="#用户" class="headerlink" title="用户"></a>用户</h2><h3 id="查看用户"><a href="#查看用户" class="headerlink" title="查看用户"></a>查看用户</h3><p>创建用户</p><p>语法：CREATE USER ‘username’@’host’ [IDENTIFIED BY ‘password’];</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">create user &#39;baireny&#39;@&#39;localhost&#39; identified by &#39;baireny&#39;;</span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure><p>创建baireny用户，并授予baireny对dev_db1操作的所有权限，localhost则代表这个用户只能在localhost进行登录</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grant all on dev_db1.* to &#39;baireny&#39;@&#39;localhost&#39; identified by &#39;baireny&#39;;</span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure><p>密码</p><p>查看密码策略</p><p>SHOW VARIABLES LIKE ‘validate_password%’;</p><p><img src="/" alt="image-20200119120140736" class="lazyload" data-src="image-20200119120140736.png"></p><p>设置密码校验强度为低</p><p>set global validate_password_policy=LOW;</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="MySQL" scheme="http://localhost:4000/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>VirtualBox虚拟机安装CentOS-7</title>
    <link href="http://localhost:4000/2020/03/18/VirtualBox%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%89%E8%A3%85CentOS-7/"/>
    <id>http://localhost:4000/2020/03/18/VirtualBox%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%89%E8%A3%85CentOS-7/</id>
    <published>2020-03-18T12:54:42.000Z</published>
    <updated>2020-03-18T13:15:05.441Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="VirtualBox虚拟机安装CentOS-7"><a href="#VirtualBox虚拟机安装CentOS-7" class="headerlink" title="VirtualBox虚拟机安装CentOS-7"></a>VirtualBox虚拟机安装CentOS-7</h1><h2 id="下载并安装-VirtualBox"><a href="#下载并安装-VirtualBox" class="headerlink" title="下载并安装 VirtualBox"></a>下载并安装 VirtualBox</h2><h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><p>下载地址：<a href="https://www.virtualbox.org/wiki/Downloads" target="_blank" rel="noopener">https://www.virtualbox.org/wiki/Downloads</a></p><p><img src="/" alt="image-20191209132453376" class="lazyload" data-src="image-20191209132453376.png"></p><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>傻瓜式安装，一直下一步就ok</p><h2 id="安装-CentOS"><a href="#安装-CentOS" class="headerlink" title="安装 CentOS"></a>安装 CentOS</h2><h3 id="新建虚拟机"><a href="#新建虚拟机" class="headerlink" title="新建虚拟机"></a>新建虚拟机</h3><p>1.打开VirtualBox管理器，点击“管理”-“全局设定”，“常规”设置虚拟电脑位置</p><p><img src="/" alt="image-20191209132213862" class="lazyload" data-src="image-20191209132213862.png"></p><p>2.点击“扩展”，引入增强包</p><p><img src="/" alt="image-20191209133252046" class="lazyload" data-src="image-20191209133252046.png"></p><p>3.新建虚拟机</p><p>3.1点击控制-新建，然后如图进行配置</p><p><img src="/" alt="image-20191209133512350" class="lazyload" data-src="image-20191209133512350.png"></p><p>3.2 下一步，配置内存大小为2G,存储为20G</p><p><img src="/" alt="image-20191209133641559" class="lazyload" data-src="image-20191209133641559.png"></p><p><img src="/" alt="image-20191209133706670" class="lazyload" data-src="image-20191209133706670.png"></p><p><img src="/" alt="image-20191209133720429" class="lazyload" data-src="image-20191209133720429.png"></p><p><img src="/" alt="image-20191209133729559" class="lazyload" data-src="image-20191209133729559.png"></p><p><img src="/" alt="image-20191209133753276" class="lazyload" data-src="image-20191209133753276.png"></p><h3 id="下载-CentOS虚拟镜像"><a href="#下载-CentOS虚拟镜像" class="headerlink" title="下载 CentOS虚拟镜像"></a>下载 CentOS虚拟镜像</h3><p>下载地址为：<a href="https://www.centos.org/download/" target="_blank" rel="noopener">https://www.centos.org/download/</a></p><p><img src="/" alt="image-20191209134239400" class="lazyload" data-src="image-20191209134239400.png"></p><h3 id="配置-CentOS-虚拟机"><a href="#配置-CentOS-虚拟机" class="headerlink" title="配置 CentOS 虚拟机"></a>配置 CentOS 虚拟机</h3><p>点击系统 去除光驱</p><p><img src="/" alt="image-20191209135235438" class="lazyload" data-src="image-20191209135235438.png"></p><p>点击设置-存储-控制器IDE-选择下载好的光驱路径</p><p><img src="/" alt="image-20191209134514591" class="lazyload" data-src="image-20191209134514591.png"></p><p>点击显示-显卡控制器 选择 VBoxVGA</p><p><img src="/" alt="image-20191209134804830" class="lazyload" data-src="image-20191209134804830.png"></p><p>点击网络按照下图配置网卡1与网卡2</p><p><img src="/" alt="image-20191209135023268" class="lazyload" data-src="image-20191209135023268.png"></p><p><img src="/" alt="image-20191209135040326" class="lazyload" data-src="image-20191209135040326.png"></p><h3 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h3><p>启动虚拟机，点击虚拟机后回车</p><p><img src="/" alt="image-20191209135823569" class="lazyload" data-src="image-20191209135823569.png"></p><p>选择想要安装的系统语言并点击 Continue (为了不出现环境编码问题，最好使用English)</p><p><img src="/" alt="image-20191209140029855" class="lazyload" data-src="image-20191209140029855.png"></p><p>磁盘分区用自动分配,选择相应的硬盘，因为配置了20G，默认点击左上方的 Done</p><p><img src="/" alt="image-20191209140233356" class="lazyload" data-src="image-20191209140233356.png"></p><p>最后选择安装</p><p><img src="/" alt="image-20191209140404350" class="lazyload" data-src="image-20191209140404350.png"></p><p>设置root的密码</p><p><img src="/" alt="image-20191209140440051" class="lazyload" data-src="image-20191209140440051.png"></p><p><img src="/" alt="image-20191209140458207" class="lazyload" data-src="image-20191209140458207.png"></p><p>如果想创建个人用户就继续点击 User Creation,这个跳过 直接点击 Reboot 重启</p><p><img src="/" alt="image-20191209140528799" class="lazyload" data-src="image-20191209140528799.png"></p><h2 id="优化CentOS"><a href="#优化CentOS" class="headerlink" title="优化CentOS"></a>优化CentOS</h2><h3 id="网卡配置"><a href="#网卡配置" class="headerlink" title="网卡配置"></a>网卡配置</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# vi /etc/sysconfig/network-scripts/ifcfg-enp0s3</span><br></pre></td></tr></table></figure><p>将 ONBOOT 修改为 yes，并设置固定IP为 192.168.56.101</p><p><img src="/" alt="image-20191209155139865" class="lazyload" data-src="image-20191209155139865.png"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# vi /etc/sysconfig/network-scripts/ifcfg-enp0s8</span><br></pre></td></tr></table></figure><p><img src="/" alt="image-20191210210555052" class="lazyload" data-src="image-20191210210555052.png"></p><p>重启网卡，查看IP，测试外网联接</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# service network restart</span><br><span class="line">[root@localhost ~]# ip addr</span><br></pre></td></tr></table></figure><p><img src="/" alt="image-20191210210624108" class="lazyload" data-src="image-20191210210624108.png"></p><p>IPADDR设置范围，打VirtualBox的“管理”-“主机网络管理器”</p><p><img src="/" alt="image-20191209155638151" class="lazyload" data-src="image-20191209155638151.png"></p><p>测试地址是否联通 101是通的，1是不通的</p><p><img src="/" alt="image-20191210210923626" class="lazyload" data-src="image-20191210210923626.png"></p><p>测试外网地址 <a href="http://www.baidu.com" target="_blank" rel="noopener">www.baidu.com</a> 有数据返回</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# curl www.baidu.com</span><br></pre></td></tr></table></figure><h3 id="防火墙设置"><a href="#防火墙设置" class="headerlink" title="防火墙设置"></a>防火墙设置</h3><p>查看防火墙状态</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# firewall-cmd --state</span><br><span class="line">running</span><br></pre></td></tr></table></figure><p>关闭防火墙</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# systemctl stop firewalld.service</span><br><span class="line">[root@localhost ~]# firewall-cmd --state</span><br><span class="line">not running</span><br></pre></td></tr></table></figure><p>禁止firewall开机启动</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]#systemctl disable firewalld.service</span><br></pre></td></tr></table></figure><p>关闭selinux,进入到/etc/selinux/config文件，将SELINUX=enforcing改为SELINUX=disabled,然后重启网络</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]#vi /etc/selinux/config</span><br><span class="line">[root@localhost ~]# service network restart</span><br></pre></td></tr></table></figure><h3 id="时间设置"><a href="#时间设置" class="headerlink" title="时间设置"></a>时间设置</h3><p>查看时间</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# date</span><br></pre></td></tr></table></figure><p>安装 ntp 服务</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum install -y ntp</span><br></pre></td></tr></table></figure><p>将ntp服务设置为缺省启动</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# systemctl enable ntpd</span><br></pre></td></tr></table></figure><p>修改启动参数，增加-g -x参数，允许ntp服务在系统时间误差较大时也能正常工作</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]#vi /etc/sysconfig/ntpd</span><br><span class="line"><span class="meta">#</span><span class="bash"> Command line options <span class="keyword">for</span> ntpd</span></span><br><span class="line">OPTIONS="-g -x"</span><br></pre></td></tr></table></figure><p>启动ntp服务</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]#systemctl restart ntpd.service</span><br></pre></td></tr></table></figure><p>将系统时区改为上海时间 (亦即CST时区)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]#ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br></pre></td></tr></table></figure><h3 id="切换阿里源"><a href="#切换阿里源" class="headerlink" title="切换阿里源"></a>切换阿里源</h3><p>下载 wget工具</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum -y install wget</span><br></pre></td></tr></table></figure><p>备份原版源配置</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mv /etc/yum.repos.d/CentOS-Base.repo  /etc/yum.repos.d/CentOS-Base.repo.bakup</span><br></pre></td></tr></table></figure><p>下载阿里源配置</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</span><br></pre></td></tr></table></figure><p>生成缓存</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum clean all</span><br><span class="line">[root@localhost ~]# yum makecache</span><br></pre></td></tr></table></figure><h3 id="安装常用工具"><a href="#安装常用工具" class="headerlink" title="安装常用工具"></a>安装常用工具</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum -y install vim make curl telnet</span><br></pre></td></tr></table></figure><p>简单配置vim（shift+G 跳到文本末尾，添加内容如下）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# vim /etc/vimrc</span><br><span class="line">set nu " 设置显示行号</span><br><span class="line">set showmode " 设置在命令行界面最下面显示当前模式等</span><br><span class="line">set ruler " 在右下角显示光标所在的行数等信息</span><br><span class="line">set autoindent " 设置每次单击Enter键后，光标移动到下一行时与上一行的起始字符对齐</span><br><span class="line">syntax on " 即设置语法检测，当编辑C或者Shell脚本时，关键字会用特殊颜色显示</span><br></pre></td></tr></table></figure><p>安装 JDK （也可通过yum 安装 open-jdk）</p><p>查看系统JDK版本</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# java -version</span><br></pre></td></tr></table></figure><p>如果没有可按照以下步骤安装</p><p>1.下载jdk-8u144-linux-x64.tar.gz压缩包</p><p><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="noopener">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a></p><p><img src="/" alt="image-20191209194359071" class="lazyload" data-src="image-20191209194359071.png"></p><p>2.创建目录，并上传压缩包至该目录</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mkdir  /opt/soft</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# tar -zxvf jdk-8u144-linux-x64.tar.gz /usr/local/</span><br></pre></td></tr></table></figure><p>3.设置环境变量，末尾添加以下变量</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# vim /etc/profile</span><br><span class="line">export JAVA_HOME=/usr/java/jdk1.8.0_144</span><br><span class="line">export CLASSPATH=.:$&#123;JAVA_HOME&#125;/jre/lib/rt.jar:$&#123;JAVA_HOME&#125;/lib/dt.jar:$&#123;JAVA_HOME&#125;/lib/tools.jar</span><br><span class="line">export PATH=$PATH:$&#123;JAVA_HOME&#125;/bin</span><br></pre></td></tr></table></figure><p>4.更新环境变量</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# source /etc/profile</span><br></pre></td></tr></table></figure><p>5.查看是否已生效</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# java -version</span><br></pre></td></tr></table></figure><p><img src="/" alt="image-20191209195409785" class="lazyload" data-src="image-20191209195409785.png"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="VirtualBox" scheme="http://localhost:4000/tags/VirtualBox/"/>
    
      <category term="CentOS-7" scheme="http://localhost:4000/tags/CentOS-7/"/>
    
  </entry>
  
  <entry>
    <title>CentOS-7 安装 MySQL 5.7</title>
    <link href="http://localhost:4000/2020/03/18/CentOS-7-%E5%AE%89%E8%A3%85-MySql-5.7/"/>
    <id>http://localhost:4000/2020/03/18/CentOS-7-%E5%AE%89%E8%A3%85-MySql-5.7/</id>
    <published>2020-03-18T12:21:03.000Z</published>
    <updated>2020-03-18T13:26:01.763Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="CentOS-7-yum-方式安装-MySql-5-7"><a href="#CentOS-7-yum-方式安装-MySql-5-7" class="headerlink" title="CentOS-7 yum 方式安装 MySql 5.7"></a>CentOS-7 yum 方式安装 MySql 5.7</h1><h2 id="卸载自带的mariadb"><a href="#卸载自带的mariadb" class="headerlink" title="卸载自带的mariadb"></a>卸载自带的mariadb</h2><h3 id="查看是否安装"><a href="#查看是否安装" class="headerlink" title="查看是否安装"></a>查看是否安装</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# rpm -qa|grep mariadb</span><br></pre></td></tr></table></figure><p><img src="/" alt="image-20191212120659735" class="lazyload" data-src="image-20191212120659735.png"></p><h3 id="卸载mariadb"><a href="#卸载mariadb" class="headerlink" title="卸载mariadb"></a>卸载mariadb</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# rpm -e --nodeps mariadb-libs</span><br></pre></td></tr></table></figure><h2 id="安装-MySql"><a href="#安装-MySql" class="headerlink" title="安装 MySql"></a>安装 MySql</h2><p>查看是否已安装，无结果表示没有历史版本</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum list installed | grep mysql</span><br></pre></td></tr></table></figure><h3 id="下载配置YUM源"><a href="#下载配置YUM源" class="headerlink" title="下载配置YUM源"></a>下载配置YUM源</h3><p>在MySQL官网中下载YUM源rpm安装包：</p><p><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fdev.mysql.com%2Fdownloads%2Frepo%2Fyum%2F" target="_blank" rel="noopener">https://dev.mysql.com/downloads/repo/yum/</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# wget http://dev.mysql.com/get/mysql57-community-release-el7-8.noarch.rpm</span><br></pre></td></tr></table></figure><p><img src="/" alt="image-20191212121814966" class="lazyload" data-src="image-20191212121814966.png"></p><h4 id="安装mysql源"><a href="#安装mysql源" class="headerlink" title="安装mysql源"></a>安装mysql源</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum localinstall mysql57-community-release-el7-8.noarch.rpm</span><br></pre></td></tr></table></figure><p><img src="/" alt="image-20191212122020786" class="lazyload" data-src="image-20191212122020786.png"></p><h4 id="检查mysql源是否安装成功"><a href="#检查mysql源是否安装成功" class="headerlink" title="检查mysql源是否安装成功"></a>检查mysql源是否安装成功</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum repolist enabled | grep "mysql.*-community.*"</span><br></pre></td></tr></table></figure><p><img src="/" alt="image-20191212122101537" class="lazyload" data-src="image-20191212122101537.png"></p><h3 id="安装MySQL"><a href="#安装MySQL" class="headerlink" title="安装MySQL"></a>安装MySQL</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum install -y mysql-community-server</span><br></pre></td></tr></table></figure><p>网络原因 会比较慢，耐心等待。</p><p><img src="/" alt="image-20191212131611788" class="lazyload" data-src="image-20191212131611788.png"></p><h4 id="启动MySQL服务"><a href="#启动MySQL服务" class="headerlink" title="启动MySQL服务"></a>启动MySQL服务</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# systemctl start mysqld</span><br></pre></td></tr></table></figure><h4 id="设置开机启动"><a href="#设置开机启动" class="headerlink" title="设置开机启动"></a>设置开机启动</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># systemctl enable mysqld</span></span><br><span class="line">[root@localhost ~]<span class="comment"># systemctl daemon-reload</span></span><br></pre></td></tr></table></figure><h4 id="修改root本地登录密码"><a href="#修改root本地登录密码" class="headerlink" title="修改root本地登录密码"></a>修改root本地登录密码</h4><p>mysql安装完成之后，在/var/log/mysqld.log文件中给root生成了一个默认密码。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># grep 'temporary password' /var/log/mysqld.log</span></span><br></pre></td></tr></table></figure><p><img src="/" alt="image-20191212132750126" class="lazyload" data-src="image-20191212132750126.png"></p><p>使用 1jKtyT26;3UG 登录 mysql</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p</span><br></pre></td></tr></table></figure><p>然后登录mysql进行修改：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-- 忽略密码策略</span><br><span class="line">set global validate_password_policy&#x3D;0;</span><br><span class="line">-- 设置密码最小长度</span><br><span class="line">set global validate_password_length&#x3D;4;</span><br><span class="line">-- 修改密码</span><br><span class="line">set password for &#39;root&#39;@&#39;localhost&#39;&#x3D;password(&#39;root&#39;);</span><br><span class="line">-- 刷新权限</span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure><p><img src="/" alt="image-20191212133857012" class="lazyload" data-src="image-20191212133857012.png"></p><h4 id="允许远程连接"><a href="#允许远程连接" class="headerlink" title="允许远程连接"></a>允许远程连接</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grant all on *.* to root@&#39;%&#39; identified by &#39;root&#39; with grant option; </span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure><hr>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="MySQL" scheme="http://localhost:4000/tags/MySQL/"/>
    
  </entry>
  
</feed>
